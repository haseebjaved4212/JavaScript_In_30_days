:root{
  --glass: rgba(255,255,255,0.12);
  --glass-strong: rgba(255,255,255,0.18);
  --border: rgba(255,255,255,0.25);
  --text: #f3f5f7;
  --muted: #c9d1d9;
  --shadow: 0 10px 30px rgba(0,0,0,0.35);
  --radius: 18px;
  --backdrop: saturate(160%) blur(14px);
}

*{ box-sizing: border-box; }
html, body { height: 100%; }
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
  color: var(--text);
  background: radial-gradient(1200px 900px at 15% 10%, #2c3e50, #0f172a) fixed;
  overflow-x: hidden;
}

/* Decorative blobs */
.blob{
  position: fixed;
  filter: blur(80px);
  opacity: .5;
  z-index: 0;
}
.blob-1{
  width: 450px; height: 450px;
  left: -100px; top: -120px;
  background: #8a2be2;
  animation: float1 12s ease-in-out infinite;
}
.blob-2{
  width: 520px; height: 520px;
  right: -140px; bottom: -160px;
  background: #00d1b2;
  animation: float2 14s ease-in-out infinite;
}
@keyframes float1{ 0%,100%{transform:translateY(0)} 50%{transform:translateY(30px)} }
@keyframes float2{ 0%,100%{transform:translateY(0)} 50%{transform:translateY(-30px)} }

.shell{
  position: relative;
  z-index: 1;
  max-width: 880px;
  margin: 6vh auto;
  padding: 28px;
}

.app-header{
  margin-bottom: 18px;
  text-align: center;
}
.app-header h1{
  margin: 0 0 6px;
  font-size: clamp(28px, 4vw, 38px);
  letter-spacing: .4px;
}
.app-header p{
  margin: 0;
  color: var(--muted);
}

form{
  margin-top: 22px;
  background: linear-gradient( to bottom right, var(--glass), rgba(255,255,255,0.10) );
  border: 1px solid var(--border);
  border-radius: var(--radius);
  backdrop-filter: var(--backdrop);
  -webkit-backdrop-filter: var(--backdrop);
  box-shadow: var(--shadow);
  padding: clamp(18px, 2.8vw, 28px);
}

.field{ margin-bottom: 16px; }
.field label{
  display: inline-block;
  margin-bottom: 8px;
  font-weight: 600;
}
.field label span{ color: #ffd166; }

input, textarea{
  width: 100%;
  padding: 14px 14px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.18);
  background: rgba(255,255,255,0.08);
  color: var(--text);
  outline: none;
  transition: border .2s, box-shadow .2s, transform .05s;
}
input::placeholder, textarea::placeholder{ color: #cbd5e1; opacity:.8; }
input:focus, textarea:focus{
  border-color: #a5b4fc;
  box-shadow: 0 0 0 4px rgba(165,180,252,.15);
}
textarea{ resize: vertical; }

.helper{
  display:flex; justify-content: space-between; align-items:center;
  margin-top: 6px;
}
.error{
  color: #ff6b6b;
  font-size: 12px;
  min-height: 16px;
}

.rating{
  display: inline-flex;
  flex-direction: row-reverse;
  gap: 8px;
  font-size: 28px;
  user-select: none;
}
.rating input{ display: none; }
.rating label{
  cursor: pointer;
  filter: drop-shadow(0 2px 4px rgba(0,0,0,.3));
  transition: transform .08s ease, text-shadow .2s ease, opacity .2s;
  opacity: .6;
}
.rating label:hover,
.rating label:hover ~ label{ opacity: 1; transform: translateY(-1px); }
.rating input:checked ~ label{ opacity: 1; text-shadow: 0 0 12px rgba(255,215,0,0.55); }
.rating label{ color: #ffd166; }

.actions{
  display:flex; gap:12px; margin-top: 10px; flex-wrap: wrap;
}
.btn{
  position: relative;
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 12px 16px;
  background: rgba(255,255,255,0.10);
  color: var(--text);
  font-weight: 600;
  cursor: pointer;
  transition: transform .06s ease, box-shadow .2s ease, background .2s ease;
  backdrop-filter: var(--backdrop);
}
.btn:hover{ transform: translateY(-1px); box-shadow: 0 8px 20px rgba(0,0,0,.25); }
.btn:active{ transform: translateY(0); }
.btn.primary{ background: linear-gradient(135deg, rgba(99,102,241,.3), rgba(14,165,233,.28)); }
.btn.ghost{ background: rgba(255,255,255,0.06); }

.btn[disabled]{ opacity:.6; cursor:not-allowed; filter: grayscale(.2); }

.btn .spinner{
  display:none; width: 16px; height:16px; margin-left:10px;
  border: 2px solid rgba(255,255,255,.5);
  border-top-color: transparent;
  border-radius: 50%;
  animation: spin .8s linear infinite;
}
@keyframes spin{ to{ transform: rotate(360deg);} }
.btn.loading .spinner{ display:inline-block; }
.btn.loading .btn-label{ opacity:.8; }

.status{
  margin: 12px 2px 0;
  color: var(--muted);
  min-height: 20px;
}

/* Toasts */
.toasts{
  position: fixed;
  top: 18px; right: 18px;
  display: grid; gap: 10px;
  z-index: 10;
}
.toast{
  padding: 12px 14px;
  border-radius: 12px;
  border: 1px solid var(--border);
  background: rgba(0,0,0,0.55);
  backdrop-filter: var(--backdrop);
  box-shadow: var(--shadow);
  font-size: 14px;
  display:flex; align-items:center; gap:10px;
}
.toast.success{ background: rgba(16,185,129,.18); }
.toast.error{ background: rgba(239,68,68,.18); }

/* Dialog */
.dialog::backdrop{ background: rgba(0,0,0,.4); backdrop-filter: blur(2px); }
.dialog-card{
  background: linear-gradient( to bottom right, var(--glass-strong), rgba(255,255,255,0.10) );
  border: 1px solid var(--border);
  border-radius: 18px;
  padding: 22px;
  text-align: center;
  color: var(--text);
}
.dialog-icon{ font-size: 42px; margin-bottom: 8px; }

/* Footer */
.app-footer{
  margin-top: 14px;
  text-align:center;
  color: var(--muted);
}

/* Responsive */
@media (max-width: 560px){
  .actions{ flex-direction: column; }
  .btn{ width: 100%; }
}
